# @package experiment
# ACBO comparison experiment configuration

environment:
  type: "linear_gaussian"
  num_variables: 5
  max_parents: 2
  noise_scale: 0.1

target:
  variable_index: 0  # Which variable to focus discovery on
  max_interventions: 20

evaluation:
  metrics: ["shd", "precision", "recall", "f1"]
  intervention_efficiency: true
  
  # Enhanced evaluation metrics
  enhanced_metrics:
    structure_learning_accuracy: true
    temporal_consistency: true
    attention_diversity: true
    continuous_parent_set_quality: true
    architectural_comparison: true
  
problem:
  difficulty: "medium"
  graph_type: "erdos_renyi"
  edge_density: 0.3

# Experiment-specific settings
comparison:
  methods: ["random", "greedy", "oracle", "static_surrogate", "learning_surrogate", "enhanced_acbo"]
  statistical_tests: true
  confidence_level: 0.95
  
  # Enhanced ACBO specific configuration
  enhanced_acbo:
    architecture_level: "simplified"  # "full", "simplified", "baseline"
    performance_mode: "balanced"      # "fast", "balanced", "quality"
    use_continuous_parent_sets: true
    use_enriched_transformers: true
    fallback_enabled: true
    validation_required: true

# Training configuration for methods that require training
training:
  enhanced_acbo:
    # Use simplified training for comparison experiments
    max_training_steps: 1000
    learning_rate: 0.0003
    batch_size: 16
    
    # Enhanced architecture settings
    architecture:
      transformer_layers: 3
      attention_heads: 4
      hidden_dim: 64
      num_channels: 10
      max_history_size: 15
    
    # Training optimization
    curriculum_enabled: false  # Disable for fair comparison
    early_stopping_patience: 5
    checkpoint_frequency: 100
    
    # Performance optimization for experiments
    jit_compilation: true
    mixed_precision: false

# Multi-run settings
n_runs: 3  # Number of independent runs per method
n_scms: 2  # Number of different SCMs to test on

# SCM Suite Configuration - allows explicit SCM definition
scm_suite:
  enabled: true  # Set to true to use predefined SCM suite instead of random generation
  scm_names:  # List of SCM names from benchmark suite to test
    - "fork_3var"
    - "chain_3var" 
    - "collider_3var"
    # Available options:
    # Simple structures (3 variables): fork_3var, chain_3var, collider_3var
    # Medium complexity (4 variables): diamond_4var, mixed_coeffs_4var, dense_4var
    # Higher complexity (5 variables): butterfly_5var, sparse_5var, chain_5var

# Resource management for comparison experiments
resources:
  timeout_per_method: 300  # 5 minutes per method
  memory_limit_gb: 4
  parallel_runs: 2
